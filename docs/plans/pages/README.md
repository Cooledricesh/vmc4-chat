# í˜ì´ì§€ë³„ êµ¬í˜„ ê³„íš ìš”ì•½

**ì‘ì„±ì¼:** 2025-10-19
**í”„ë¡œì íŠ¸:** Cokaotalk MVP (v1.2)

---

## ğŸ“‹ ê°œìš”

ì´ ë””ë ‰í† ë¦¬ëŠ” Cokaotalk MVPì˜ 5ê°œ í˜ì´ì§€ì— ëŒ€í•œ ìƒì„¸ êµ¬í˜„ ê³„íšì„ í¬í•¨í•©ë‹ˆë‹¤. ê° í˜ì´ì§€ëŠ” PRD, ìœ ì¦ˆì¼€ì´ìŠ¤ ë¬¸ì„œ, ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„, ìƒíƒœ ê´€ë¦¬ ì„¤ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ“„ í˜ì´ì§€ ëª©ë¡

| ìš°ì„ ìˆœìœ„ | í˜ì´ì§€ | ê²½ë¡œ | ì£¼ìš” ê¸°ëŠ¥ | ê´€ë ¨ ìœ ì¦ˆì¼€ì´ìŠ¤ |
|---------|-------|------|----------|---------------|
| 1 | [ë¡œê·¸ì¸ í˜ì´ì§€](./01_login_page.md) | `/login` | ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸, ìë™ ë¦¬ë””ë ‰ì…˜ | UC-002, UC-012 |
| 2 | [íšŒì›ê°€ì… í˜ì´ì§€](./02_register_page.md) | `/register` | ê³„ì • ìƒì„±, ë‹‰ë„¤ì„ ì„¤ì • | UC-001 |
| 3 | [ë©”ì¸ í˜ì´ì§€](./03_main_page.md) | `/` | ì±„íŒ…ë°© ëª©ë¡, ì±„íŒ…ë°© ìƒì„± | UC-003, UC-004, UC-012 |
| 4 | [ì±„íŒ…ë°© í˜ì´ì§€](./04_chatroom_page.md) | `/room/:id` | ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ , ì¢‹ì•„ìš”/ë‹µì¥/ì‚­ì œ | UC-004~UC-008 |
| 5 | [ë§ˆì´í˜ì´ì§€](./05_mypage_page.md) | `/mypage` | ë‹‰ë„¤ì„ ë³€ê²½, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½, ë¡œê·¸ì•„ì›ƒ | UC-009~UC-011 |

---

## ğŸ”— í˜ì´ì§€ ê°„ ì—°ê²° ê´€ê³„

```
ë¡œê·¸ì¸ í˜ì´ì§€ (/login)
    â†“ ë¡œê·¸ì¸ ì„±ê³µ
ë©”ì¸ í˜ì´ì§€ (/)
    â†“ ì±„íŒ…ë°© ì„ íƒ
ì±„íŒ…ë°© í˜ì´ì§€ (/room/:id)
    â†‘ ë’¤ë¡œê°€ê¸°
ë©”ì¸ í˜ì´ì§€ (/)
    â†’ ë§ˆì´í˜ì´ì§€ (/mypage)
        â†“ ë¡œê·¸ì•„ì›ƒ
    ë¡œê·¸ì¸ í˜ì´ì§€ (/login)

íšŒì›ê°€ì… í˜ì´ì§€ (/register)
    â†“ íšŒì›ê°€ì… ì™„ë£Œ
ë¡œê·¸ì¸ í˜ì´ì§€ (/login)
```

---

## ğŸ¯ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: ì¸ì¦ (1-2ì£¼)
1. ë¡œê·¸ì¸ í˜ì´ì§€
2. íšŒì›ê°€ì… í˜ì´ì§€
3. ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
4. Auth Store (Zustand)

### Phase 2: ì±„íŒ…ë°© ëª©ë¡ (1ì£¼)
5. ë©”ì¸ í˜ì´ì§€
6. ì±„íŒ…ë°© ëª©ë¡ ì¡°íšŒ API
7. ì±„íŒ…ë°© ìƒì„± ê¸°ëŠ¥

### Phase 3: ì±„íŒ…ë°© (2-3ì£¼) - ê°€ì¥ ë³µì¡
8. ì±„íŒ…ë°© í˜ì´ì§€ ê¸°ë³¸ êµ¬ì¡°
9. Context + useReducer ìƒíƒœ ê´€ë¦¬
10. ë©”ì‹œì§€ ì „ì†¡ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)
11. WebSocket ì‹¤ì‹œê°„ í†µì‹ 
12. ë©”ì‹œì§€ ì¢‹ì•„ìš”/ë‹µì¥/ì‚­ì œ

### Phase 4: ê³„ì • ê´€ë¦¬ (1ì£¼)
13. ë§ˆì´í˜ì´ì§€
14. ë‹‰ë„¤ì„ ë³€ê²½
15. ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
16. ë¡œê·¸ì•„ì›ƒ

### Phase 5: í´ë¦¬ì‹± ë° í…ŒìŠ¤íŠ¸ (1-2ì£¼)
17. ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
18. ì„±ëŠ¥ ìµœì í™”
19. ì ‘ê·¼ì„± ê°œì„ 
20. E2E í…ŒìŠ¤íŠ¸

**ì´ ì˜ˆìƒ ê¸°ê°„:** 6-9ì£¼

---

## ğŸ“Š ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### Frontend
- **Framework:** Next.js 15.5.6 (App Router)
- **Language:** TypeScript
- **Styling:** Tailwind CSS + shadcn/ui
- **State Management:**
  - Global: Zustand (Auth)
  - Server State: TanStack Query (React Query)
  - Local: Context + useReducer (Chatroom)
- **Form:** React Hook Form + Zod
- **Real-time:** Supabase Realtime (WebSocket)

### Backend
- **API Framework:** Hono (delegated to Next.js API Routes)
- **Database:** PostgreSQL (Supabase)
- **Auth:** JWT (HTTP-only cookies)
- **Validation:** Zod

---

## ğŸ” ê³µí†µ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­

### ëª¨ë“  í˜ì´ì§€ì— ì ìš©
- HTTPS í•„ìˆ˜
- CSRF ë³´í˜¸
- XSS ë°©ì§€ (ì…ë ¥ê°’ sanitization)
- SQL Injection ë°©ì§€ (íŒŒë¼ë¯¸í„° ë°”ì¸ë”©)

### ë³´í˜¸ëœ í˜ì´ì§€ (/, /room/:id, /mypage)
- JWT í† í° ê²€ì¦ (ë¯¸ë“¤ì›¨ì–´)
- ë¹„ë¡œê·¸ì¸ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ ë¦¬ë””ë ‰ì…˜
- ì›ë˜ URL ì €ì¥ (ë¡œê·¸ì¸ í›„ ë³µê·€)

---

## ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### ê³µí†µ
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (Next.js ìë™)
- ì´ë¯¸ì§€ ìµœì í™” (next/image)
- React Query ìºì‹±
- ë‚™ê´€ì  ì—…ë°ì´íŠ¸

### ì±„íŒ…ë°© í˜ì´ì§€ íŠ¹í™”
- ë©”ì‹œì§€ ê°€ìƒí™” (react-window)
- ë©”ëª¨ì´ì œì´ì…˜ (React.memo, useMemo)
- ë””ë°”ìš´ì‹± (íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°)
- WebSocket ì¬ì—°ê²° ë¡œì§

---

## â™¿ ì ‘ê·¼ì„± ê°€ì´ë“œë¼ì¸

### ëª¨ë“  í˜ì´ì§€
- í‚¤ë³´ë“œë§Œìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥
- ì ì ˆí•œ label ë° ARIA ì†ì„±
- ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
- ì¶©ë¶„í•œ ìƒ‰ìƒ ëŒ€ë¹„

### ì±„íŒ…ë°© í˜ì´ì§€
- role="log" (ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸)
- ìƒˆ ë©”ì‹œì§€ ë„ì°© ì‹œ ìŠ¤í¬ë¦° ë¦¬ë” ì•Œë¦¼
- ë‹µì¥ ê´€ê³„ ëª…í™•íˆ ì „ë‹¬

---

## ğŸ“¦ í•„ìˆ˜ ì˜ì¡´ì„±

### ê³µí†µ
```json
{
  "next": "15.5.6",
  "react": "19.2.0",
  "typescript": "^5.x",
  "@tanstack/react-query": "^5.x",
  "zustand": "^4.x",
  "react-hook-form": "^7.x",
  "@hookform/resolvers": "^3.x",
  "zod": "^3.x",
  "hono": "^3.x",
  "date-fns": "^3.x",
  "tailwindcss": "^3.x"
}
```

### ì¸ì¦ ê´€ë ¨
```json
{
  "bcrypt": "^5.x",
  "jsonwebtoken": "^9.x"
}
```

### ì±„íŒ…ë°© ê´€ë ¨
```json
{
  "react-intersection-observer": "^9.x",
  "react-textarea-autosize": "^8.x",
  "react-use": "^17.x"
}
```

### shadcn-ui ì»´í¬ë„ŒíŠ¸
```bash
npx shadcn@latest add input button label card dialog badge toast
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- Services (Backend)
- Hooks (React Query)
- Reducers (Context)

### í†µí•© í…ŒìŠ¤íŠ¸
- API ì—”ë“œí¬ì¸íŠ¸
- Auth í”Œë¡œìš°
- WebSocket í†µì‹ 

### E2E í…ŒìŠ¤íŠ¸
- íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ ì±„íŒ…ë°© ìƒì„± â†’ ë©”ì‹œì§€ ì „ì†¡
- ë¡œê·¸ì•„ì›ƒ â†’ ë¡œê·¸ì¸
- ë‹‰ë„¤ì„/ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ ë° í•´ê²°ì±…

### í•œê¸€ IME ì²˜ë¦¬
- **ë¬¸ì œ:** í•œê¸€ ì…ë ¥ ì‹œ Enter í‚¤ ì¤‘ë³µ ì²˜ë¦¬
- **í•´ê²°:** `isComposing` ìƒíƒœë¡œ ì¡°í•© ì¤‘ í™•ì¸

### WebSocket ì¬ì—°ê²°
- **ë¬¸ì œ:** ë„¤íŠ¸ì›Œí¬ ëŠê¹€ ì‹œ ì¬ì—°ê²° ì‹¤íŒ¨
- **í•´ê²°:** ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì—°ê²° ë¡œì§

### ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°±
- **ë¬¸ì œ:** API ì‹¤íŒ¨ ì‹œ UI ê¹œë¹¡ì„
- **í•´ê²°:** ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ ì „í™˜

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

### í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [PRD](../../prd.md)
- [ìœ ì €í”Œë¡œìš°](../../userflow.md)
- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](../../database.md)
- [ìƒíƒœ ê´€ë¦¬ ì„¤ê³„](../../state-management.md)
- [ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ](../../requirements.md)

### ìœ ì¦ˆì¼€ì´ìŠ¤
- [UC-001: íšŒì›ê°€ì…](../../usecases/001_signup.md)
- [UC-002: ë¡œê·¸ì¸](../../usecases/002_login.md)
- [UC-003: ì±„íŒ…ë°© ë§Œë“¤ê¸°](../../usecases/003_create_room.md)
- [UC-004: ì±„íŒ…ë°© ì…ì¥](../../usecases/004_join_room.md)
- [UC-005: ë©”ì‹œì§€ ì „ì†¡](../../usecases/005_send_message.md)
- [UC-006: ë©”ì‹œì§€ ì¢‹ì•„ìš”](../../usecases/006_like_message.md)
- [UC-007: ë©”ì‹œì§€ ë‹µì¥](../../usecases/007_reply_message.md)
- [UC-008: ë©”ì‹œì§€ ì‚­ì œ](../../usecases/008_delete_message.md)
- [UC-009: ë‹‰ë„¤ì„ ë³€ê²½](../../usecases/009_change_nickname.md)
- [UC-010: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½](../../usecases/010_change_password.md)
- [UC-011: ë¡œê·¸ì•„ì›ƒ](../../usecases/011_logout.md)
- [UC-012: ë¹„ë¡œê·¸ì¸ ì ‘ê·¼ ì œí•œ](../../usecases/012_auth_guard.md)

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸ (êµ¬í˜„ ì „)

### ë¬¸ì„œ í™•ì¸
- [ ] PRD ìˆ™ì§€
- [ ] ëª¨ë“  ìœ ì¦ˆì¼€ì´ìŠ¤ ê²€í† 
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì¸
- [ ] ìƒíƒœ ê´€ë¦¬ ì•„í‚¤í…ì²˜ ì´í•´

### í™˜ê²½ ì„¤ì •
- [ ] Next.js 15.5.6 í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [ ] TypeScript ì„¤ì •
- [ ] ESLint + Prettier ì„¤ì •
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### ì˜ì¡´ì„± ì„¤ì¹˜
- [ ] í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] shadcn-ui ì´ˆê¸°í™”
- [ ] í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

### ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [ ] src/app (í˜ì´ì§€)
- [ ] src/features (ê¸°ëŠ¥ë³„ ëª¨ë“ˆ)
- [ ] src/backend (Hono ì•±)
- [ ] src/components/ui (shadcn-ui)
- [ ] src/lib (ìœ í‹¸ë¦¬í‹°)

---

## ğŸ“ í•™ìŠµ ìë£Œ

### Next.js 15.5.6
- App Router êµ¬ì¡°
- Server Components vs Client Components
- Middleware (Turbopack ì™„ì „ ì§€ì›)
- API Routes with Hono

### React 19.2.0
- use hook
- Server Actions (í•„ìš” ì‹œ)

### TanStack Query v5
- useQuery
- useMutation
- Optimistic Updates
- Invalidation

### Zustand
- Global State Management
- Persist Middleware

### Hono
- Routing
- Middleware
- Context
- Zod Validation

---

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

êµ¬í˜„ ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ëª…ì„¸ê°€ ë¶ˆëª…í™•í•œ ê²½ìš°:

1. ê´€ë ¨ ìœ ì¦ˆì¼€ì´ìŠ¤ ë¬¸ì„œ ì¬í™•ì¸
2. PRD ë° ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ ì°¸ì¡°
3. ìƒíƒœ ê´€ë¦¬ ì„¤ê³„ ë¬¸ì„œ ê²€í† 
4. íŒ€ ë¦¬ë·° ìš”ì²­

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-10-19
**ì‘ì„±ì:** ìŠ¹í˜„ (AI ì–´ì‹œìŠ¤í„´íŠ¸)
**ë²„ì „:** v1.0
